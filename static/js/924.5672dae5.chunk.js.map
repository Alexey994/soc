{"version":3,"file":"static/js/924.5672dae5.chunk.js","mappings":"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","sources":["Hook/withAuthRedirect.js","webpack://soc/./src/components/Profile/ProfileInfo/ProfileInfo.module.css?ead2","components/Profile/ProfileInfo/ProfileWithStatusHook.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","webpack://soc/./src/components/Profile/MyPosts/MyPosts.module.css?831b","webpack://soc/./src/components/Profile/MyPosts/Post/Posts.module.css?ee55","components/Profile/MyPosts/Post/Posts.jsx","components/Profile/MyPosts/AddPostForm/AddPostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/Post/MyPostContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileInfo/ProfileContainer.jsx"],"sourcesContent":["import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport { compose } from \"redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) =>( {\r\n    isAuth: state.auth.isAuth });\r\n\r\n\r\n    export const withAuthRedirect = (Component) => {\r\n        class RedirectComponent extends React.Component {\r\n            render(){\r\n                if(this.props.isAuth){\r\n                    return <Component {...this.props}/>\r\n                }else if(!this.props.isAuth && !this.props.router){\r\n                    return <Navigate to='/login'/>\r\n                }else {\r\n                    if(!this.props.isAuth && !this.props.router.params.userId){\r\n                        return <Navigate to='/login'/>\r\n                    } else {\r\n                        if(!this.props.isAuth && this.props.router.params.userId) return <Component {...this.props}/>\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return compose(connect(mapStateToPropsForRedirect, {}))((RedirectComponent));\r\n    }","// extracted by mini-css-extract-plugin\nexport default {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__nueRN\",\"imgg\":\"ProfileInfo_imgg__FILhk\"};","\r\nimport React from \"react\"\r\nimport { useState ,  useEffect } from \"react\";\r\n\r\n\r\nconst ProfileWithStatusHook = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status , setStatus] = useState(props.status);\r\n    let [test , setTest] = useState(0);\r\n    \r\n\r\n    const testF = ()=>{\r\n        setTest(test + 1)\r\n    }\r\n    const testF2 = ()=>{\r\n        setTest(test - 1)\r\n    }\r\n\r\n    useEffect(() => {\r\n      setStatus(props.status)\r\n    },[props.status])\r\n    \r\n\r\n   const activateEditMode = () => {\r\n    setEditMode(true);\r\n   }\r\n\r\n   const deaActivateEditMode = () => {\r\n    setEditMode(false);\r\n   props.updateStatus(status);\r\n   debugger\r\n    alert(status)\r\n   \r\n \r\n    }\r\n\r\n\r\nconst onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value)\r\n}\r\n\r\nreturn (\r\n    <>\r\n    <div>\r\n        {!editMode &&\r\n        <div>\r\n            <span onDoubleClick={activateEditMode}>{props.status || '---------' }</span>\r\n            <h1>TEST count {test}</h1>\r\n            <button onClick={testF}>  CLICK + </button>\r\n            <button onClick={testF2}> CLICK - </button>\r\n       </div>\r\n}\r\n      {editMode &&\r\n    <div>\r\n        <input \r\n        onChange={onStatusChange} \r\n        autoFocus={true} \r\n        onBlur={deaActivateEditMode} \r\n        value={status}/>\r\n   </div>\r\n       }\r\n    </div>\r\n     </>\r\n    \r\n    \r\n)\r\n}\r\n\r\nexport default ProfileWithStatusHook","import React from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/Pleloader/Preloader/Preloaer\";\r\nimport ProfileWithStatusHook from \"./ProfileWithStatusHook\";\r\n\r\nconst ProfileInfo = ({profile , status , updateStatus}) => {\r\n   if(!profile){\r\n    return <Preloader/>\r\n   }\r\n    return (\r\n        <div>\r\n            <div>\r\n              <img className={s.imgg} src='https://s1.1zoom.ru/big3/984/Canada_Parks_Lake_Mountains_Forests_Scenery_Rocky_567540_3840x2400.jpg' alt={'gg'} />\r\n           </div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={profile.photos.large} alt={\"img\"}/>\r\n                Ava + discription\r\n                <ProfileWithStatusHook status={status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProfileInfo\r\n\r\n\r\n ","// extracted by mini-css-extract-plugin\nexport default {\"postsBlock\":\"MyPosts_postsBlock__+A3el\",\"posts\":\"MyPosts_posts__i6A7C\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"Posts_item__Fbahu\"};","import React from \"react\";\r\nimport s from \"./Posts.module.css\";\r\n\r\nconst Posts = (props) => {\r\n\r\n  return (\r\n    <div>\r\n      <div className={s.item}>\r\n        <img\r\n          src=\"https://w7.pngwing.com/pngs/948/148/png-transparent-computer-icons-user-avatar-avatar-heroes-monochrome-silhouette.png\"\r\n          alt=\"e\"\r\n        />\r\n        {props.message}\r\n        <div style={{color:'lightblue'}}>\r\n          <span style={{color:'pink'}}>like</span> {props.likeCount}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n","import React from \"react\";\r\nimport { Field , reduxForm } from \"redux-form\";\r\nimport { FormControl} from \"../../../common/FormsControl/FormsControl\";\r\nimport { maxLengthCreator, minLengthCreator, required } from \"../../../utils/validators\";\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\nconst minLength3 = minLengthCreator(3);\r\n\r\nconst AddPostForm = (props) => {\r\n   return (\r\n   <form onSubmit={props.handleSubmit}> \r\n      <div>\r\n        <Field child={\"input\"} component={FormControl} validate={[required,maxLength10, minLength3]} name={\"newPostText\"} placeholder={\"Enter\"} type={\"text\"}/>\r\n      </div>\r\n      <div><button>Add Post</button></div>\r\n   </form>\r\n   )\r\n}\r\nexport default  reduxForm({form: \"profile-add-post\"})(AddPostForm)\r\n\r\n","import React from \"react\"\r\nimport s from './MyPosts.module.css'\r\nimport Posts from \"./Post/Posts\";\r\n//import { Field , reduxForm } from \"redux-form\";\r\n//import { addPostActionCreator,updateNewPostTextActionCreator } from \"../../../Redux/profileReducer\";\r\n//import { FormControl} from \"../../common/FormsControl/FormsControl\";\r\n//import { maxLengthCreator, minLengthCreator, required} from \"../../utils/validators\";\r\nimport AddPostForm from \"./AddPostForm/AddPostForm\";\r\nimport { memo } from \"react\";\r\n\r\n/*const maxLength10 = maxLengthCreator(10);\r\nconst minLength3 = minLengthCreator(3);\r\n\r\n\r\nlet AddMyPostForm = (props) => {\r\n    return (\r\n    <form onSubmit={props.handleSubmit}>\r\n                <Field child=\"textarea\" component={FormControl} validate={[required, maxLength10, minLength3]} placeholder=\"Login\" name=\"newPostText\" type=\"text\"/>\r\n                    <div>\r\n                    <button>Add Posts</button>\r\n            </div>\r\n    </form>\r\n    );\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({form :\"ProfileAddNewPostForm\"})(AddMyPostForm);*/\r\n\r\nconst MyPosts = memo((props) => {\r\n   \r\n        let postsElements =props.posts.map(p =>\r\n        <Posts message={p.message} likeCount={p.likeCount} key={p.id}\r\n       />)\r\n        \r\n        let onAddPost = (values) => {\r\n        props.addPost(values.newPostText);\r\n        alert(values.newPostText)\r\n    }\r\n\r\n return (\r\n            <div className={s.postsBlock}>\r\n               <h3 style={{color:'yellow'}}>My Posts</h3>\r\n               <AddPostForm onSubmit={onAddPost}/>\r\n                <div className={s.posts}>\r\n                    {postsElements}\r\n            </div>\r\n            </div>\r\n        \r\n    );\r\n})\r\n\r\nexport default MyPosts","import {addPostActionCreator} from \"../../../../Redux/profileReducer\";\r\nimport MyPosts from \"../MyPosts\";\r\nimport {connect} from 'react-redux'\r\n\r\n/*const MyPostsContainer = (props) => {\r\n   //let state = props.store.getState();\r\n   return (\r\n      <storeContext.Consumer>\r\n        { \r\n        (store)=>{\r\n\r\n         let state = store.getState();\r\n         let addPost = () => {\r\n            store.dispatch(addPostActionCreator());\r\n         };\r\n      \r\n         let onPostChange = (text) => {\r\n            let action = updateNewPostTextActionCreator(text);\r\n           store.dispatch(action);\r\n         };\r\n\r\n     return  <MyPosts\r\n            updateNewPostText={onPostChange}\r\n            addPost={addPost}\r\n            posts={state.profilePage.posts}\r\n            newPostText={store.getState().profilePage.newPostText}\r\n         />}}\r\n      </storeContext.Consumer>\r\n\r\n   );\r\n};*/\r\n\r\nconst mapStateToProps = (state) =>{\r\nreturn {\r\nposts: state.profilePage.posts,\r\n//newPostText: state.profilePage.newPostText\r\n}\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n return {\r\n\r\n   addPost:(newPostText) => {\r\ndispatch(addPostActionCreator(newPostText));\r\n   },\r\n }\r\n}\r\nconst PostsContainer = connect(mapStateToProps , mapDispatchToProps)(MyPosts)\r\nexport default PostsContainer;\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/Post/MyPostContainer\";\r\n//import storeContext from \"../../storeContext\";\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst Profile = (props) => {\r\n\r\n\r\n    return (\r\n    <div>\r\n       <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n       <MyPostsContainer/>\r\n   </div>\r\n    );\r\n}\r\n\r\nexport default Profile","import React from \"react\";\r\nimport Profile from \"../Profile\";\r\nimport { connect } from \"react-redux\";\r\nimport { getUserProfile , getStatus , updateStatus } from \"../../../Redux/profileReducer\";\r\nimport { useLocation , useNavigate , useParams }  from 'react-router-dom';\r\nimport { withAuthRedirect } from \"../../../Hook/withAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\n\r\n\r\n\r\nexport class ProfileContainer extends React.Component {\r\n\r\n    componentDidMount(){\r\n        let userId = this.props.router.params.userId;\r\n        if(!userId){\r\n            userId = this.props.authorizedUserId;\r\n            if(!userId){\r\n                this.props.history.push(\"/login\")\r\n            }\r\n        }\r\n       this.props.getUserProfile(userId);\r\n       this.props.getStatus(userId);\r\n      \r\n    }\r\n    render(){\r\n        return (\r\n            <Profile {...this.props} \r\n            profile={this.props.profile} \r\n            status={this.props.status} \r\n            updateStatus={this.props.updateStatus}/>\r\n    )\r\n }\r\n}\r\n\r\nlet mapStateToProps = (state) =>( {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth : state.auth.isAuth,\r\n  \r\n })\r\n\r\n function withRouter(Component) {\r\n    function ComponentWithRouterProp(props) {\r\n      let location = useLocation();\r\n      let navigate = useNavigate();\r\n      let params = useParams();\r\n    \r\n      return (\r\n        <Component\r\n          {...props}\r\n          router={{ location, navigate, params }}\r\n        />\r\n      );\r\n    }\r\n  \r\n    return ComponentWithRouterProp;\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {getUserProfile , getStatus , updateStatus}),\r\n    withRouter,\r\n    withAuthRedirect,\r\n)(ProfileContainer);\r\n\r\n"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","React","render","this","props","_jsx","router","params","userId","Navigate","to","compose","connect","editMode","setEditMode","useState","status","setStatus","test","setTest","useEffect","_Fragment","children","_jsxs","onDoubleClick","activateEditMode","onClick","testF","testF2","onChange","e","currentTarget","value","autoFocus","onBlur","deaActivateEditMode","updateStatus","alert","_ref","profile","className","s","src","alt","photos","large","ProfileWithStatusHook","Preloader","message","style","color","likeCount","maxLength10","maxLengthCreator","minLength3","minLengthCreator","reduxForm","form","onSubmit","handleSubmit","Field","child","component","FormControl","validate","required","name","placeholder","type","memo","postsElements","posts","map","p","Posts","id","AddPostForm","values","addPost","newPostText","profilePage","dispatch","addPostActionCreator","MyPosts","ProfileInfo","MyPostsContainer","ProfileContainer","componentDidMount","authorizedUserId","history","push","getUserProfile","getStatus","Profile","location","useLocation","navigate","useNavigate","useParams"],"sourceRoot":""}